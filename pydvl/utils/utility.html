<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="value" href="../value.html" /><link rel="prev" title="types" href="types.html" />

    <!-- Generated with Sphinx 5.3.0 and Furo 2022.12.07 -->
        <title>utility - pyDVL 0.5.1.dev0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?digest=91d0f0d1c444bdcb17a68e833c7a53903343c195" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster.custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster.bundle.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-shadow.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-punk.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-noir.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-light.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-borderless.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/micromodal.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<div class="announcement">
  <aside class="announcement-content">
     pyDVL is in an early stage of development. Expect changes to functionality and the API until version 1.0.0. 
  </aside>
</div>

<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">pyDVL 0.5.1.dev0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../_static/logo.svg" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../../10-getting-started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../20-install.html">Installing pyDVL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../30-data-valuation.html">Computing data values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../40-influence.html">Computing influence values</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../examples/index.html">Examples</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../examples/shapley_basic_spotify.html">Shapley for data valuation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/shapley_knn_flowers.html">KNN Shapley</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/shapley_utility_learning.html">Data Utility Learning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/least_core_basic.html">Least Core for Data Valuation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/influence_imagenet.html">Influence functions for neural networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/influence_imagenet.html#Theory-of-influence-functions-for-neural-networks">Theory of influence functions for neural networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/influence_synthetic.html">Influence functions for data mislabeling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/influence_wine.html">Influence functions and neural networks</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">API Reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../influence.html">influence</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../influence/conjugate_gradient.html">conjugate_gradient</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../influence/frameworks.html">frameworks</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../influence/frameworks/torch_differentiable.html">torch_differentiable</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../influence/general.html">general</a></li>
<li class="toctree-l3"><a class="reference internal" href="../influence/linear.html">linear</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../influence/model_wrappers.html">model_wrappers</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../influence/model_wrappers/torch_wrappers.html">torch_wrappers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../influence/types.html">types</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../reporting.html">reporting</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../reporting/plots.html">plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reporting/scores.html">scores</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="../utils.html">utils</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="caching.html">caching</a></li>
<li class="toctree-l3"><a class="reference internal" href="config.html">config</a></li>
<li class="toctree-l3"><a class="reference internal" href="dataset.html">dataset</a></li>
<li class="toctree-l3"><a class="reference internal" href="numeric.html">numeric</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="parallel.html">parallel</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="parallel/actor.html">actor</a></li>
<li class="toctree-l4"><a class="reference internal" href="parallel/backend.html">backend</a></li>
<li class="toctree-l4"><a class="reference internal" href="parallel/map_reduce.html">map_reduce</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="progress.html">progress</a></li>
<li class="toctree-l3"><a class="reference internal" href="score.html">score</a></li>
<li class="toctree-l3"><a class="reference internal" href="status.html">status</a></li>
<li class="toctree-l3"><a class="reference internal" href="types.html">types</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">utility</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../value.html">value</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../value/least_core.html">least_core</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../value/least_core/common.html">common</a></li>
<li class="toctree-l4"><a class="reference internal" href="../value/least_core/montecarlo.html">montecarlo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../value/least_core/naive.html">naive</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../value/loo.html">loo</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../value/loo/naive.html">naive</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../value/result.html">result</a></li>
<li class="toctree-l3"><a class="reference internal" href="../value/sampler.html">sampler</a></li>
<li class="toctree-l3"><a class="reference internal" href="../value/semivalues.html">semivalues</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../value/shapley.html">shapley</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../value/shapley/actor.html">actor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../value/shapley/common.html">common</a></li>
<li class="toctree-l4"><a class="reference internal" href="../value/shapley/gt.html">gt</a></li>
<li class="toctree-l4"><a class="reference internal" href="../value/shapley/knn.html">knn</a></li>
<li class="toctree-l4"><a class="reference internal" href="../value/shapley/montecarlo.html">montecarlo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../value/shapley/naive.html">naive</a></li>
<li class="toctree-l4"><a class="reference internal" href="../value/shapley/owen.html">owen</a></li>
<li class="toctree-l4"><a class="reference internal" href="../value/shapley/truncated.html">truncated</a></li>
<li class="toctree-l4"><a class="reference internal" href="../value/shapley/types.html">types</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../value/stopping.html">stopping</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="module-pydvl.utils.utility">
<span id="utility"></span><h1>utility<a class="headerlink" href="#module-pydvl.utils.utility" title="Permalink to this heading">#</a></h1>
<p>This module contains classes to manage and learn utility functions for the
computation of values. Please see the documentation on <a class="reference internal" href="../../30-data-valuation.html#data-valuation"><span class="std std-ref">Computing data values</span></a> for
more information.</p>
<p><a class="reference internal" href="#pydvl.utils.utility.Utility" title="pydvl.utils.utility.Utility"><code class="xref py py-class docutils literal notranslate"><span class="pre">Utility</span></code></a> holds information about model, data and scoring function (the
latter being what one usually understands under <em>utility</em> in the general
definition of Shapley value). It is automatically cached across machines.</p>
<p><a class="reference internal" href="#pydvl.utils.utility.DataUtilityLearning" title="pydvl.utils.utility.DataUtilityLearning"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataUtilityLearning</span></code></a> adds support for learning the scoring function
to avoid repeated re-training of the model to compute the score.</p>
<p>This module also contains Utility classes for toy games that are used
for testing and for demonstration purposes.</p>
<hr class="docutils" />
<dl class="py class">
<dt class="sig sig-object py" id="pydvl.utils.utility.Utility">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Utility</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="types.html#pydvl.utils.types.SupervisedModel" title="pydvl.utils.types.SupervisedModel"><span class="pre">SupervisedModel</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="dataset.html#pydvl.utils.dataset.Dataset" title="pydvl.utils.dataset.Dataset"><span class="pre">Dataset</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">scorer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="score.html#pydvl.utils.score.Scorer" title="pydvl.utils.score.Scorer"><span class="pre">Scorer</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_score</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">score_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">(-inf,</span> <span class="pre">inf)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catch_errors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_warnings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_cache</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="config.html#pydvl.utils.config.MemcachedConfig" title="pydvl.utils.config.MemcachedConfig"><span class="pre">MemcachedConfig</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clone_before_fit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/appliedAI-Initiative/pyDVL/blob/develop/src/pydvl/utils/utility.py#L38"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydvl.utils.utility.Utility" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Convenience wrapper with configurable memoization of the scoring
function.</p>
<p>An instance of <code class="docutils literal notranslate"><span class="pre">Utility</span></code> holds the triple of model, dataset and scoring
function which determines the value of data points. This is mosly used for
the computation of <a class="reference internal" href="../../30-data-valuation.html#shapley"><span class="std std-ref">Shapley values</span></a> and
<a class="reference internal" href="../../30-data-valuation.html#least-core"><span class="std std-ref">Least Core values</span></a>.</p>
<p>The Utility expect the model to fulfill
the <a class="reference internal" href="types.html#pydvl.utils.types.SupervisedModel" title="pydvl.utils.types.SupervisedModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">pydvl.utils.types.SupervisedModel</span></code></a> interface i.e. to have
<code class="docutils literal notranslate"><span class="pre">fit()</span></code>, <code class="docutils literal notranslate"><span class="pre">predict()</span></code>, and <code class="docutils literal notranslate"><span class="pre">score()</span></code> methods.</p>
<p>When calling the utility, the model will be
<a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.base.clone.html">cloned</a>
if it is a Sci-Kit Learn model, otherwise a copy is created using
<code class="docutils literal notranslate"><span class="pre">deepcopy()</span></code>
from the builtin <a class="reference external" href="https://docs.python.org/3/library/copy.html">copy</a>
module.</p>
<p>Since evaluating the scoring function requires retraining the model
and that can be time-consuming, this class wraps it and caches
the results of each execution. Caching is available both locally
and across nodes, but must always be enabled for your
project first, see <a class="reference internal" href="../../20-install.html#caching-setup"><span class="std std-ref">how to set up the cache</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – Any supervised model. Typical choices can be found at
<a class="reference external" href="https://scikit-learn.org/stable/supervised_learning.html">https://scikit-learn.org/stable/supervised_learning.html</a></p></li>
<li><p><strong>data</strong> – <code class="xref py py-class docutils literal notranslate"><span class="pre">Dataset</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">GroupedDataset</span></code>.</p></li>
<li><p><strong>scorer</strong> – A scoring object. If None, the <code class="docutils literal notranslate"><span class="pre">score()</span></code> method of the model
will be used. See <code class="xref py py-mod docutils literal notranslate"><span class="pre">scorer</span></code> for ways to create
and compose scorers, in particular how to set default values and ranges.
For convenience, a string can be passed, which will be used to construct
a <code class="xref py py-class docutils literal notranslate"><span class="pre">Scorer</span></code>.</p></li>
<li><p><strong>default_score</strong> – As a convenience when no <code class="docutils literal notranslate"><span class="pre">scorer</span></code> object is passed
(where a default value can be provided), this argument also allows to set
the default score for models that have not been fit, e.g. when too little
data is passed, or errors arise.</p></li>
<li><p><strong>score_range</strong> – As with <code class="docutils literal notranslate"><span class="pre">default_score</span></code>, this is a convenience argument
for when no <code class="docutils literal notranslate"><span class="pre">scorer</span></code> argument is provided, to set the numerical range
of the score function. Some Monte Carlo methods can use this to estimate
the number of samples required for a certain quality of approximation.</p></li>
<li><p><strong>catch_errors</strong> – set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to catch the errors when fit() fails.
This could happen in several steps of the pipeline, e.g. when too little
training data is passed, which happens often during Shapley value
calculations. When this happens, the <code class="xref py py-attr docutils literal notranslate"><span class="pre">default_score</span></code> is returned
as a score and computation continues.</p></li>
<li><p><strong>show_warnings</strong> – Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to suppress warnings thrown by
<code class="docutils literal notranslate"><span class="pre">fit()</span></code>.</p></li>
<li><p><strong>enable_cache</strong> – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, use memcached for memoization.</p></li>
<li><p><strong>cache_options</strong> – Optional configuration object for memcached.</p></li>
<li><p><strong>clone_before_fit</strong> – If True, the model will be cloned before calling
<code class="docutils literal notranslate"><span class="pre">fit()</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pydvl.utils</span> <span class="kn">import</span> <span class="n">Utility</span><span class="p">,</span> <span class="n">DataUtilityLearning</span><span class="p">,</span> <span class="n">Dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LinearRegression</span><span class="p">,</span> <span class="n">LogisticRegression</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_iris</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">from_sklearn</span><span class="p">(</span><span class="n">load_iris</span><span class="p">(),</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span> <span class="o">=</span> <span class="n">Utility</span><span class="p">(</span><span class="n">LogisticRegression</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">16</span><span class="p">),</span> <span class="n">dataset</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">indices</span><span class="p">)</span>
<span class="go">0.9</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="pydvl.utils.utility.Utility.model">
<span class="sig-name descname"><span class="pre">model</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="types.html#pydvl.utils.types.SupervisedModel" title="pydvl.utils.types.SupervisedModel"><span class="pre">SupervisedModel</span></a></em><a class="headerlink" href="#pydvl.utils.utility.Utility.model" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pydvl.utils.utility.Utility.data">
<span class="sig-name descname"><span class="pre">data</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="dataset.html#pydvl.utils.dataset.Dataset" title="pydvl.utils.dataset.Dataset"><span class="pre">Dataset</span></a></em><a class="headerlink" href="#pydvl.utils.utility.Utility.data" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pydvl.utils.utility.Utility.scorer">
<span class="sig-name descname"><span class="pre">scorer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="score.html#pydvl.utils.score.Scorer" title="pydvl.utils.score.Scorer"><span class="pre">Scorer</span></a></em><a class="headerlink" href="#pydvl.utils.utility.Utility.scorer" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydvl.utils.utility.Utility.signature">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">signature</span></span><a class="headerlink" href="#pydvl.utils.utility.Utility.signature" title="Permalink to this definition">#</a></dt>
<dd><p>Signature used for caching model results.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydvl.utils.utility.Utility.cache_stats">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cache_stats</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="caching.html#pydvl.utils.caching.CacheStats" title="pydvl.utils.caching.CacheStats"><span class="pre">CacheStats</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pydvl.utils.utility.Utility.cache_stats" title="Permalink to this definition">#</a></dt>
<dd><p>Cache statistics are gathered when cache is enabled.
See <code class="xref py py-class docutils literal notranslate"><span class="pre">CacheInfo</span></code> for all fields returned.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pydvl.utils.utility.DataUtilityLearning">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DataUtilityLearning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">u</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pydvl.utils.utility.Utility" title="pydvl.utils.utility.Utility"><span class="pre">Utility</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">training_budget</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="types.html#pydvl.utils.types.SupervisedModel" title="pydvl.utils.types.SupervisedModel"><span class="pre">SupervisedModel</span></a></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/appliedAI-Initiative/pyDVL/blob/develop/src/pydvl/utils/utility.py#L246"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydvl.utils.utility.DataUtilityLearning" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Implementation of Data Utility Learning algorithm
Wang <em>et al.</em><a class="footnote-reference brackets" href="#footcite-wang-improving-2022" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
<p>This object wraps a <a class="reference internal" href="#pydvl.utils.utility.Utility" title="pydvl.utils.utility.Utility"><code class="xref py py-class docutils literal notranslate"><span class="pre">Utility</span></code></a> and delegates
calls to it, up until a given budget (number of iterations). Every tuple
of input and output (a so-called <em>utility sample</em>) is stored. Once the
budget is exhausted, <cite>DataUtilityLearning</cite> fits the given model to the
utility samples. Subsequent calls will use the learned model to predict the
utility instead of delegating.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>u</strong> – The <a class="reference internal" href="#pydvl.utils.utility.Utility" title="pydvl.utils.utility.Utility"><code class="xref py py-class docutils literal notranslate"><span class="pre">Utility</span></code></a> to learn.</p></li>
<li><p><strong>training_budget</strong> – Number of utility samples to collect before fitting
the given model</p></li>
<li><p><strong>model</strong> – A supervised regression model</p></li>
</ul>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pydvl.utils</span> <span class="kn">import</span> <span class="n">Utility</span><span class="p">,</span> <span class="n">DataUtilityLearning</span><span class="p">,</span> <span class="n">Dataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LinearRegression</span><span class="p">,</span> <span class="n">LogisticRegression</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_iris</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">from_sklearn</span><span class="p">(</span><span class="n">load_iris</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span> <span class="o">=</span> <span class="n">Utility</span><span class="p">(</span><span class="n">LogisticRegression</span><span class="p">(),</span> <span class="n">dataset</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wrapped_u</span> <span class="o">=</span> <span class="n">DataUtilityLearning</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">LinearRegression</span><span class="p">())</span>
<span class="gp">... </span><span class="c1"># First 3 calls will be computed normally</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">_</span> <span class="o">=</span> <span class="n">wrapped_u</span><span class="p">((</span><span class="n">i</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wrapped_u</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span> <span class="c1"># Subsequent calls will be computed using the fit model for DUL</span>
<span class="go">0.0</span>
</pre></div>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="pydvl.utils.utility.DataUtilityLearning.data">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="dataset.html#pydvl.utils.dataset.Dataset" title="pydvl.utils.dataset.Dataset"><span class="pre">Dataset</span></a></em><a class="headerlink" href="#pydvl.utils.utility.DataUtilityLearning.data" title="Permalink to this definition">#</a></dt>
<dd><p>Returns the wrapped utility’s <a class="reference internal" href="dataset.html#pydvl.utils.dataset.Dataset" title="pydvl.utils.dataset.Dataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dataset</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pydvl.utils.utility.MinerGameUtility">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MinerGameUtility</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_miners</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/appliedAI-Initiative/pyDVL/blob/develop/src/pydvl/utils/utility.py#L320"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydvl.utils.utility.MinerGameUtility" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pydvl.utils.utility.Utility" title="pydvl.utils.utility.Utility"><code class="xref py py-class docutils literal notranslate"><span class="pre">Utility</span></code></a></p>
<p>Toy game utility that is used for testing and demonstration purposes.</p>
<p>Consider a group of n miners, who have discovered large bars of gold.</p>
<p>If two miners can carry one piece of gold,
then the payoff of a coalition <span class="math notranslate nohighlight">\(S\)</span> is:</p>
<p><div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}{
v(S) = \left\{\begin{array}{lll}
\mid S \mid / 2 &amp; \text{, if} &amp; \mid S \mid \text{ is even} \\
( \mid S \mid - 1)/2 &amp; \text{, if} &amp; \mid S \mid \text{ is odd}
\end{array}\right.
}\end{split}\]</div>
</div>
</p>
<p>If there are more than two miners and there is an even number of miners,
then the core consists of the single payoff where each miner gets 1/2.</p>
<p>If there is an odd number of miners, then the core is empty.</p>
<p>Taken from: <a class="reference external" href="https://en.wikipedia.org/wiki/Core_(game_theory">https://en.wikipedia.org/wiki/Core_(game_theory</a>)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n_miners</strong> – Number of miners that participate in the game.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="pydvl.utils.utility.MinerGameUtility.data">
<span class="sig-name descname"><span class="pre">data</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="dataset.html#pydvl.utils.dataset.Dataset" title="pydvl.utils.dataset.Dataset"><span class="pre">Dataset</span></a></em><a class="headerlink" href="#pydvl.utils.utility.MinerGameUtility.data" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydvl.utils.utility.MinerGameUtility.exact_least_core_values">
<span class="sig-name descname"><span class="pre">exact_least_core_values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">float64</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#pydvl.utils.utility.MinerGameUtility.exact_least_core_values" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pydvl.utils.utility.MinerGameUtility.model">
<span class="sig-name descname"><span class="pre">model</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="types.html#pydvl.utils.types.SupervisedModel" title="pydvl.utils.types.SupervisedModel"><span class="pre">SupervisedModel</span></a></em><a class="headerlink" href="#pydvl.utils.utility.MinerGameUtility.model" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pydvl.utils.utility.MinerGameUtility.scorer">
<span class="sig-name descname"><span class="pre">scorer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="score.html#pydvl.utils.score.Scorer" title="pydvl.utils.score.Scorer"><span class="pre">Scorer</span></a></em><a class="headerlink" href="#pydvl.utils.utility.MinerGameUtility.scorer" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pydvl.utils.utility.MinerGameUtility.cache_options">
<span class="sig-name descname"><span class="pre">cache_options</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="config.html#pydvl.utils.config.MemcachedConfig" title="pydvl.utils.config.MemcachedConfig"><span class="pre">MemcachedConfig</span></a></em><a class="headerlink" href="#pydvl.utils.utility.MinerGameUtility.cache_options" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pydvl.utils.utility.GlovesGameUtility">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">GlovesGameUtility</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/appliedAI-Initiative/pyDVL/blob/develop/src/pydvl/utils/utility.py#L381"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydvl.utils.utility.GlovesGameUtility" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pydvl.utils.utility.Utility" title="pydvl.utils.utility.Utility"><code class="xref py py-class docutils literal notranslate"><span class="pre">Utility</span></code></a></p>
<p>Toy game utility that is used for testing and demonstration purposes.</p>
<p>In this game, some players have a left glove and others a right glove.
Single gloves have a worth of zero while pairs have a worth of 1.</p>
<p>The payoff of a coalition <span class="math notranslate nohighlight">\(S\)</span> is:</p>
<p><div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[{
v(S) = \min( \mid S \cap L \mid, \mid S \cap R \mid )
}\]</div>
</div>
</p>
<p>Where <span class="math notranslate nohighlight">\(L\)</span>, respectively <span class="math notranslate nohighlight">\(R\)</span>, is the set of players with left gloves,
respectively right gloves.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> – Number of players with a left glove.</p></li>
<li><p><strong>right</strong> – Number of player with a right glove.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="pydvl.utils.utility.GlovesGameUtility.data">
<span class="sig-name descname"><span class="pre">data</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="dataset.html#pydvl.utils.dataset.Dataset" title="pydvl.utils.dataset.Dataset"><span class="pre">Dataset</span></a></em><a class="headerlink" href="#pydvl.utils.utility.GlovesGameUtility.data" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pydvl.utils.utility.GlovesGameUtility.model">
<span class="sig-name descname"><span class="pre">model</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="types.html#pydvl.utils.types.SupervisedModel" title="pydvl.utils.types.SupervisedModel"><span class="pre">SupervisedModel</span></a></em><a class="headerlink" href="#pydvl.utils.utility.GlovesGameUtility.model" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pydvl.utils.utility.GlovesGameUtility.scorer">
<span class="sig-name descname"><span class="pre">scorer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="score.html#pydvl.utils.score.Scorer" title="pydvl.utils.score.Scorer"><span class="pre">Scorer</span></a></em><a class="headerlink" href="#pydvl.utils.utility.GlovesGameUtility.scorer" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pydvl.utils.utility.GlovesGameUtility.cache_options">
<span class="sig-name descname"><span class="pre">cache_options</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="config.html#pydvl.utils.config.MemcachedConfig" title="pydvl.utils.config.MemcachedConfig"><span class="pre">MemcachedConfig</span></a></em><a class="headerlink" href="#pydvl.utils.utility.GlovesGameUtility.cache_options" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydvl.utils.utility.GlovesGameUtility.exact_least_core_values">
<span class="sig-name descname"><span class="pre">exact_least_core_values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">float64</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#pydvl.utils.utility.GlovesGameUtility.exact_least_core_values" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<div class="docutils container" id="id2">
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this heading">#</a></h2>
</section>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="footcite-wang-improving-2022" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>Tianhao Wang, Yu Yang, and Ruoxi Jia. Improving Cooperative Game Theory-based Data Valuation via Data Utility Learning. In <em>International Conference on Learning Representations (ICLR 2022). Workshop on Socially Responsible Machine Learning</em>. arXiv, April 2022. URL: <a class="reference external" href="http://arxiv.org/abs/2107.06336v2">http://arxiv.org/abs/2107.06336v2</a> (visited on 2022-05-19), <a class="reference external" href="https://arxiv.org/abs/2107.06336v2">arXiv:2107.06336v2</a>, <a class="reference external" href="https://doi.org/10.48550/arXiv.2107.06336">doi:10.48550/arXiv.2107.06336</a>.</p>
</aside>
</aside>
</div>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../value.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">value</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="types.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">types</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; AppliedAI Institute gGmbH
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/appliedAI-Initiative/pyDVL" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">utility</a><ul>
<li><a class="reference internal" href="#pydvl.utils.utility.Utility"><code class="docutils literal notranslate"><span class="pre">Utility</span></code></a><ul>
<li><a class="reference internal" href="#pydvl.utils.utility.Utility.model"><code class="docutils literal notranslate"><span class="pre">Utility.model</span></code></a></li>
<li><a class="reference internal" href="#pydvl.utils.utility.Utility.data"><code class="docutils literal notranslate"><span class="pre">Utility.data</span></code></a></li>
<li><a class="reference internal" href="#pydvl.utils.utility.Utility.scorer"><code class="docutils literal notranslate"><span class="pre">Utility.scorer</span></code></a></li>
<li><a class="reference internal" href="#pydvl.utils.utility.Utility.signature"><code class="docutils literal notranslate"><span class="pre">Utility.signature</span></code></a></li>
<li><a class="reference internal" href="#pydvl.utils.utility.Utility.cache_stats"><code class="docutils literal notranslate"><span class="pre">Utility.cache_stats</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#pydvl.utils.utility.DataUtilityLearning"><code class="docutils literal notranslate"><span class="pre">DataUtilityLearning</span></code></a><ul>
<li><a class="reference internal" href="#pydvl.utils.utility.DataUtilityLearning.data"><code class="docutils literal notranslate"><span class="pre">DataUtilityLearning.data</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#pydvl.utils.utility.MinerGameUtility"><code class="docutils literal notranslate"><span class="pre">MinerGameUtility</span></code></a><ul>
<li><a class="reference internal" href="#pydvl.utils.utility.MinerGameUtility.data"><code class="docutils literal notranslate"><span class="pre">MinerGameUtility.data</span></code></a></li>
<li><a class="reference internal" href="#pydvl.utils.utility.MinerGameUtility.exact_least_core_values"><code class="docutils literal notranslate"><span class="pre">MinerGameUtility.exact_least_core_values()</span></code></a></li>
<li><a class="reference internal" href="#pydvl.utils.utility.MinerGameUtility.model"><code class="docutils literal notranslate"><span class="pre">MinerGameUtility.model</span></code></a></li>
<li><a class="reference internal" href="#pydvl.utils.utility.MinerGameUtility.scorer"><code class="docutils literal notranslate"><span class="pre">MinerGameUtility.scorer</span></code></a></li>
<li><a class="reference internal" href="#pydvl.utils.utility.MinerGameUtility.cache_options"><code class="docutils literal notranslate"><span class="pre">MinerGameUtility.cache_options</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#pydvl.utils.utility.GlovesGameUtility"><code class="docutils literal notranslate"><span class="pre">GlovesGameUtility</span></code></a><ul>
<li><a class="reference internal" href="#pydvl.utils.utility.GlovesGameUtility.data"><code class="docutils literal notranslate"><span class="pre">GlovesGameUtility.data</span></code></a></li>
<li><a class="reference internal" href="#pydvl.utils.utility.GlovesGameUtility.model"><code class="docutils literal notranslate"><span class="pre">GlovesGameUtility.model</span></code></a></li>
<li><a class="reference internal" href="#pydvl.utils.utility.GlovesGameUtility.scorer"><code class="docutils literal notranslate"><span class="pre">GlovesGameUtility.scorer</span></code></a></li>
<li><a class="reference internal" href="#pydvl.utils.utility.GlovesGameUtility.cache_options"><code class="docutils literal notranslate"><span class="pre">GlovesGameUtility.cache_options</span></code></a></li>
<li><a class="reference internal" href="#pydvl.utils.utility.GlovesGameUtility.exact_least_core_values"><code class="docutils literal notranslate"><span class="pre">GlovesGameUtility.exact_least_core_values()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/scripts/furo.js"></script>
    <script src="../../_static/js/hoverxref.js"></script>
    <script src="../../_static/js/tooltipster.bundle.min.js"></script>
    <script src="../../_static/js/micromodal.min.js"></script>
    <script src="../../_static/design-tabs.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["\\(", "\\)"]], "processEscapes": true, "displayMath": [["\\[", "\\]"]]}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>